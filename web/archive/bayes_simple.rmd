---
title: "Archive work"
author: "Logan Harris"
date: "`r Sys.Date()`"
output: html_document
---

# Many Covariates

## Not High Dimensional

### Single Example

```{r, eval = FALSE}
tmp <- eb_boot(beta = c(2, 1, 0.5, -2, -1, -0.5))
save(tmp, file = "/Users/loganharris/github/lasso-boot/web/data/many_single_simple.rds")
```

```{r}
load("/Users/loganharris/github/lasso-boot/web/data/many_single_simple.rds")
plot_boot(tmp)
```


### Coverage

```{r, eval = FALSE}
set.seed(123)
res <- eb_boot_sim(beta = c(2, 1, 0.5, -2, -1, -0.5))
save(res, file = "/Users/loganharris/github/lasso-boot/web/data/many_simple.rds")
```

```{r, echo=FALSE}
load("/Users/loganharris/github/lasso-boot/web/data/many_simple.rds")
```

#### Overall Coverage (per bootstrap)

```{r}
mean(res$overall_cov)
hist(res$overall_cov)
```

#### Individual Coverage (per covariate)

```{r}
tmp <- data.frame(coverage = apply(res$indiv_cov, 2, mean) , beta = res$truth)
plot(abs(tmp$beta), tmp$coverage)
```

## n = p

Here, I simply increase the number of true zeros. What I was interested in seeing was: 1) does the increase in sparsity effect the coverage of the non-zero coefficients, 2) Does it impact the marginal coverage rate?

### Single Example

```{r, eval = FALSE}
tmp <- eb_boot(beta = c(2, 1, 0.5, -2, -1, -0.5), p = 100)
save(tmp, file = "/Users/loganharris/github/lasso-boot/web/data/nep_single_simple.rds")
```

```{r}
load("/Users/loganharris/github/lasso-boot/web/data/nep_single_simple.rds")
plot_boot(tmp)
```


### Coverage

```{r, eval = FALSE}
set.seed(123)
res <- eb_boot_sim(beta = c(2, 1, 0.5, -2, -1, -0.5), p = 100)
save(res, file = "/Users/loganharris/github/lasso-boot/web/data/nep_simple.rds")
```

```{r, echo=FALSE}
load("/Users/loganharris/github/lasso-boot/web/data/nep_simple.rds")
```

#### Overall Coverage (per bootstrap)

```{r}
mean(res$overall_cov)
hist(res$overall_cov)
```

#### Individual Coverage (per covariate)

```{r}
tmp <- data.frame(coverage = apply(res$indiv_cov, 2, mean) , beta = res$truth)
plot(abs(tmp$beta), tmp$coverage)
```

## Increating betas, Not High Dimensional

### Single Example

```{r, eval = FALSE}
tmp <- eb_boot(beta = c(0.25, 0.5, 0.75, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5))
save(tmp, file = "/Users/loganharris/github/lasso-boot/web/data/increasing_single_simple.rds")
```

```{r}
load("/Users/loganharris/github/lasso-boot/web/data/increasing_single_simple.rds")
plot_boot(tmp)
```

### Coverage

```{r, eval = FALSE}
set.seed(123)
res <- eb_boot_sim(beta = c(0.25, 0.5, 0.75, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5))
save(res, file = "/Users/loganharris/github/lasso-boot/web/data/increasing_simple.rds")
```

```{r, echo=FALSE}
load("/Users/loganharris/github/lasso-boot/web/data/increasing_simple.rds")
```


#### Overall Coverage (per bootstrap)

```{r}
mean(res$overall_cov)
hist(res$overall_cov)
```

#### Individual Coverage (per covariate)

```{r}
tmp <- data.frame(coverage = apply(res$indiv_cov, 2, mean) , beta = res$truth)
plot(abs(tmp$beta), tmp$coverage)
```
